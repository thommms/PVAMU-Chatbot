import pdfplumber
import requests
import PyPDF2
import re

# Download the PDF file from the URL
# url = "https://www.pvamu.edu/sites/hb2504/courses/Spring%202023/ACCT%202301-P03.pdf"
# url = "https://www.pvamu.edu/sites/hb2504/courses/Spring%202023/ACCT%202302-P02.pdf"
url = "https://www.pvamu.edu/sites/hb2504/courses/Spring%202023/BIOL%202402-P08.pdf"

response = requests.get(url)

# Write the PDF data to a file
with open("temp.pdf", "wb") as file:
    file.write(response.content)


def search_pdf(keyword, filename):
    with pdfplumber.open(filename) as pdf:
        text = ""
        for page in pdf.pages:
            text += page.extract_text()
        lines = text.splitlines()
        for i, line in enumerate(lines):
            if keyword in line:
                return line, lines[i+1] if i+1 < len(lines) else ""
    return None, None



line_with_next_line = search_pdf("Office Hours", "temp.pdf")
if line_with_next_line[0]:
    print("Line containing keyword:", line_with_next_line[0])
    print("Next line:", line_with_next_line[1])
else:
    print("Keyword not found in PDF file.")